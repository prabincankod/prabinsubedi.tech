---
import { type CollectionEntry, getCollection, render } from "astro:content";
import MainLayout from "../../layouts/MainLayout.astro";
import PostCard from "../../components/PostCard.astro";
import GobackButton from "../../components/GobackButton.astro";

const allPosts = await getCollection("post");
---

<MainLayout title={" All posts"}>
    <section class="space-y-4">
        <GobackButton href="/" title="Go to home" />

        <h2 class="font-bold text-2xl">Posts</h2>

        {
            allPosts.map((post) => {
                return (
                    <PostCard
                        title={post.data.title}
                        date={post.data.date}
                        slug={post.id}
                    />
                );
            })
        }
    </section>
</MainLayout>
